import{V as a,d as E,i as C,o as I,e as y,c as P,P as L,S as M,C as W,G as B,f as j,p as F,g as V,h as b,j as z,_ as H,k as K}from"./index-Mq0khtFw.js";new a;new a;new a;const q=(o,n,e)=>{document.addEventListener("keydown",t=>{console.log(t.code),t.code=="Digit1"?document.body.requestPointerLock():t.code=="Digit2"&&document.exitPointerLock(),o[t.code]=!0}),document.addEventListener("keyup",t=>{o[t.code]=!1}),n.addEventListener("dblclick",()=>{}),document.body.addEventListener("mousemove",t=>{document.pointerLockElement===document.body&&(e.rotation.y-=t.movementX/500,e.rotation.x-=t.movementY/500)})},A=(o,n,e,t)=>{let d=Math.exp(-4*o)-1;n.addScaledVector(n,d);const s=n.clone().multiplyScalar(o);e.translate(s),t.position.copy(e.end)},R=(o,n,e,t,d)=>{const s=()=>(t.getWorldDirection(e),e.y=0,e.normalize(),e),m=()=>(t.getWorldDirection(e),e.y=0,e.normalize(),e.cross(t.up),e),i=o*500;d.KeyW&&(console.log("ww"),n.add(s().multiplyScalar(i))),d.KeyS&&(console.log("ww"),n.add(s().multiplyScalar(-i))),d.KeyA&&n.add(m().multiplyScalar(-i)),d.KeyD&&n.add(m().multiplyScalar(i))},k=o=>(F("data-v-c19d14f0"),o=o(),V(),o),T={class:"test"},D=k(()=>b("div",{id:"container"},null,-1)),G=k(()=>b("div",{style:{border:"1px greenyellow solid"},id:"blocker"},null,-1)),N=[D,G],S=5,O=E({__name:"TheVideoWorld",setup(o){const n=new z;let e,t,d;const s={},m=new C(new a(0,.35,0),new a(0,1,0),.35),i=new a,x=new a;function u(c,p,w,_,h){const r=document.createElement("div");r.style.width="480px",r.style.height="360px",r.style.backgroundColor="#000";const l=document.createElement("iframe");l.style.width="480px",l.style.height="360px",l.style.border="0px",l.src=["https://www.youtube.com/embed/",c,"?rel=0"].join(""),r.appendChild(l);const g=new j(r);return g.position.set(p,w,_),g.rotation.y=h,g}let f;function v(){f=document.getElementById("container"),e=new L(50,window.innerWidth/window.innerHeight,1,5e3),e.position.set(0,0,100),t=new M,d=new W,d.setSize(window.innerWidth,window.innerHeight),f.appendChild(d.domElement);const c=new B;c.add(u("SJOz3qjfQXU",0,0,240,0)),c.add(u("Y2-xZ-1HE-Q",240,0,0,Math.PI/2)),c.add(u("IrydklNpcFI",0,0,-240,Math.PI)),c.add(u("9ubytEsCaS0",-240,0,0,-Math.PI/2)),t.add(c);const p=document.getElementById("blocker");p.style.display="none",q(s,f,e);function w(){const _=Math.min(.05,n.getDelta())/S;for(let h=0;h<S;h++)R(_,i,x,e,s),A(_,i,m,e);d.render(t,e),requestAnimationFrame(w)}w()}return I(()=>{v()}),(c,p)=>(y(),P("div",T,N))}}),Q=H(O,[["__scopeId","data-v-c19d14f0"]]),Y=E({__name:"HtmlView",setup(o){return(n,e)=>(y(),K(Q))}});export{Y as default};
